{"version":3,"file":"plugin.cjs.js","sources":["esm/index.js","esm/web.js"],"sourcesContent":["import { registerPlugin } from '@capacitor/core';\nconst Badge = registerPlugin('Badge', {\n    web: () => import('./web').then(m => new m.BadgeWeb()),\n});\nexport * from './definitions';\nexport { Badge };\n//# sourceMappingURL=index.js.map","import { WebPlugin } from '@capacitor/core';\nexport class BadgeWeb extends WebPlugin {\n    constructor() {\n        super();\n        this.restore();\n    }\n    async checkPermissions() {\n        return { display: 'granted' };\n    }\n    async requestPermissions() {\n        return { display: 'granted' };\n    }\n    async get() {\n        const value = localStorage.getItem(BadgeWeb.STORAGE_KEY);\n        const count = value ? parseInt(value, 10) : 0;\n        return { count };\n    }\n    async set(options) {\n        const count = options.count;\n        if (count === 0) {\n            await navigator.clearAppBadge();\n        }\n        else {\n            await navigator.setAppBadge(count);\n        }\n        const value = count.toString();\n        localStorage.setItem(BadgeWeb.STORAGE_KEY, value);\n    }\n    async increase() {\n        const { count } = await this.get();\n        await this.set({ count: count + 1 });\n    }\n    async decrease() {\n        const { count } = await this.get();\n        if (count < 1) {\n            return;\n        }\n        await this.set({ count: count - 1 });\n    }\n    async clear() {\n        await this.set({ count: 0 });\n    }\n    async isSupported() {\n        const result = {\n            isSupported: 'setAppBadge' in navigator,\n        };\n        return result;\n    }\n    async restore() {\n        const value = localStorage.getItem(BadgeWeb.STORAGE_KEY);\n        if (!value) {\n            return;\n        }\n        const count = parseInt(value, 10);\n        await navigator.setAppBadge(count);\n    }\n}\nBadgeWeb.STORAGE_KEY = 'capacitor.badge';\n//# sourceMappingURL=web.js.map"],"names":["registerPlugin","WebPlugin"],"mappings":";;;;;;AACK,MAAC,KAAK,GAAGA,mBAAc,CAAC,OAAO,EAAE;AACtC,IAAI,GAAG,EAAE,MAAM,mDAAe,CAAC,IAAI,CAAC,CAAC,IAAI,IAAI,CAAC,CAAC,QAAQ,EAAE,CAAC;AAC1D,CAAC;;ACFM,MAAM,QAAQ,SAASC,cAAS,CAAC;AACxC,IAAI,WAAW,GAAG;AAClB,QAAQ,KAAK,EAAE,CAAC;AAChB,QAAQ,IAAI,CAAC,OAAO,EAAE,CAAC;AACvB,KAAK;AACL,IAAI,MAAM,gBAAgB,GAAG;AAC7B,QAAQ,OAAO,EAAE,OAAO,EAAE,SAAS,EAAE,CAAC;AACtC,KAAK;AACL,IAAI,MAAM,kBAAkB,GAAG;AAC/B,QAAQ,OAAO,EAAE,OAAO,EAAE,SAAS,EAAE,CAAC;AACtC,KAAK;AACL,IAAI,MAAM,GAAG,GAAG;AAChB,QAAQ,MAAM,KAAK,GAAG,YAAY,CAAC,OAAO,CAAC,QAAQ,CAAC,WAAW,CAAC,CAAC;AACjE,QAAQ,MAAM,KAAK,GAAG,KAAK,GAAG,QAAQ,CAAC,KAAK,EAAE,EAAE,CAAC,GAAG,CAAC,CAAC;AACtD,QAAQ,OAAO,EAAE,KAAK,EAAE,CAAC;AACzB,KAAK;AACL,IAAI,MAAM,GAAG,CAAC,OAAO,EAAE;AACvB,QAAQ,MAAM,KAAK,GAAG,OAAO,CAAC,KAAK,CAAC;AACpC,QAAQ,IAAI,KAAK,KAAK,CAAC,EAAE;AACzB,YAAY,MAAM,SAAS,CAAC,aAAa,EAAE,CAAC;AAC5C,SAAS;AACT,aAAa;AACb,YAAY,MAAM,SAAS,CAAC,WAAW,CAAC,KAAK,CAAC,CAAC;AAC/C,SAAS;AACT,QAAQ,MAAM,KAAK,GAAG,KAAK,CAAC,QAAQ,EAAE,CAAC;AACvC,QAAQ,YAAY,CAAC,OAAO,CAAC,QAAQ,CAAC,WAAW,EAAE,KAAK,CAAC,CAAC;AAC1D,KAAK;AACL,IAAI,MAAM,QAAQ,GAAG;AACrB,QAAQ,MAAM,EAAE,KAAK,EAAE,GAAG,MAAM,IAAI,CAAC,GAAG,EAAE,CAAC;AAC3C,QAAQ,MAAM,IAAI,CAAC,GAAG,CAAC,EAAE,KAAK,EAAE,KAAK,GAAG,CAAC,EAAE,CAAC,CAAC;AAC7C,KAAK;AACL,IAAI,MAAM,QAAQ,GAAG;AACrB,QAAQ,MAAM,EAAE,KAAK,EAAE,GAAG,MAAM,IAAI,CAAC,GAAG,EAAE,CAAC;AAC3C,QAAQ,IAAI,KAAK,GAAG,CAAC,EAAE;AACvB,YAAY,OAAO;AACnB,SAAS;AACT,QAAQ,MAAM,IAAI,CAAC,GAAG,CAAC,EAAE,KAAK,EAAE,KAAK,GAAG,CAAC,EAAE,CAAC,CAAC;AAC7C,KAAK;AACL,IAAI,MAAM,KAAK,GAAG;AAClB,QAAQ,MAAM,IAAI,CAAC,GAAG,CAAC,EAAE,KAAK,EAAE,CAAC,EAAE,CAAC,CAAC;AACrC,KAAK;AACL,IAAI,MAAM,WAAW,GAAG;AACxB,QAAQ,MAAM,MAAM,GAAG;AACvB,YAAY,WAAW,EAAE,aAAa,IAAI,SAAS;AACnD,SAAS,CAAC;AACV,QAAQ,OAAO,MAAM,CAAC;AACtB,KAAK;AACL,IAAI,MAAM,OAAO,GAAG;AACpB,QAAQ,MAAM,KAAK,GAAG,YAAY,CAAC,OAAO,CAAC,QAAQ,CAAC,WAAW,CAAC,CAAC;AACjE,QAAQ,IAAI,CAAC,KAAK,EAAE;AACpB,YAAY,OAAO;AACnB,SAAS;AACT,QAAQ,MAAM,KAAK,GAAG,QAAQ,CAAC,KAAK,EAAE,EAAE,CAAC,CAAC;AAC1C,QAAQ,MAAM,SAAS,CAAC,WAAW,CAAC,KAAK,CAAC,CAAC;AAC3C,KAAK;AACL,CAAC;AACD,QAAQ,CAAC,WAAW,GAAG,iBAAiB;;;;;;;;;"}