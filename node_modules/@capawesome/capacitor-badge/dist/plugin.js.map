{"version":3,"file":"plugin.js","sources":["esm/index.js","esm/web.js"],"sourcesContent":["import { registerPlugin } from '@capacitor/core';\nconst Badge = registerPlugin('Badge', {\n    web: () => import('./web').then(m => new m.BadgeWeb()),\n});\nexport * from './definitions';\nexport { Badge };\n//# sourceMappingURL=index.js.map","import { WebPlugin } from '@capacitor/core';\nexport class BadgeWeb extends WebPlugin {\n    constructor() {\n        super();\n        this.restore();\n    }\n    async checkPermissions() {\n        return { display: 'granted' };\n    }\n    async requestPermissions() {\n        return { display: 'granted' };\n    }\n    async get() {\n        const value = localStorage.getItem(BadgeWeb.STORAGE_KEY);\n        const count = value ? parseInt(value, 10) : 0;\n        return { count };\n    }\n    async set(options) {\n        const count = options.count;\n        if (count === 0) {\n            await navigator.clearAppBadge();\n        }\n        else {\n            await navigator.setAppBadge(count);\n        }\n        const value = count.toString();\n        localStorage.setItem(BadgeWeb.STORAGE_KEY, value);\n    }\n    async increase() {\n        const { count } = await this.get();\n        await this.set({ count: count + 1 });\n    }\n    async decrease() {\n        const { count } = await this.get();\n        if (count < 1) {\n            return;\n        }\n        await this.set({ count: count - 1 });\n    }\n    async clear() {\n        await this.set({ count: 0 });\n    }\n    async isSupported() {\n        const result = {\n            isSupported: 'setAppBadge' in navigator,\n        };\n        return result;\n    }\n    async restore() {\n        const value = localStorage.getItem(BadgeWeb.STORAGE_KEY);\n        if (!value) {\n            return;\n        }\n        const count = parseInt(value, 10);\n        await navigator.setAppBadge(count);\n    }\n}\nBadgeWeb.STORAGE_KEY = 'capacitor.badge';\n//# sourceMappingURL=web.js.map"],"names":["registerPlugin","WebPlugin"],"mappings":"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"}